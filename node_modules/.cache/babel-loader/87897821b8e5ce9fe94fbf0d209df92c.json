{"ast":null,"code":"import _slicedToArray from\"C:/Andres/Semestre 2021-2/Desarrollo web/Bono-Parcial-1/marvelapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import Card from'../Card/Card';import{jsx as _jsx}from\"react/jsx-runtime\";var md5=require('md5');var PRIVATE_KEY='1a79518320092f0adcca9822825517090a22e0fc';var PUBLIC_KEY='e8e61be1a12aa4da11480c2bb40cbbff';var TS=Date.now();function PersonajesMarvel(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),personaje=_useState2[0],setPersonajes=_useState2[1];var hash=md5(\"\".concat(TS).concat(PRIVATE_KEY).concat(PUBLIC_KEY));var URL=\"https://gateway.marvel.com:443/v1/public/characters?ts=\".concat(TS,\"&apikey=\").concat(PUBLIC_KEY,\"&hash=\").concat(hash);useEffect(function(){if(!navigator.onLine){if(localStorage.getItem(\"personaje\")===null){setPersonajes(\"Loading...\");}else{setPersonajes(JSON.parse(localStorage.getItem(\"personaje\")));}}else{fetch(URL).then(function(res){return res.json();}).then(function(res){setPersonajes(res.data.results);localStorage.setItem(\"personaje\",JSON.stringify(res.data.results));});}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:personaje.map(function(character){return/*#__PURE__*/_jsx(Card,{character:character},character.id);})});}export default PersonajesMarvel;","map":{"version":3,"sources":["C:/Andres/Semestre 2021-2/Desarrollo web/Bono-Parcial-1/marvelapp/src/components/personajesMarvel.js"],"names":["useEffect","useState","Card","md5","require","PRIVATE_KEY","PUBLIC_KEY","TS","Date","now","PersonajesMarvel","personaje","setPersonajes","hash","URL","navigator","onLine","localStorage","getItem","JSON","parse","fetch","then","res","json","data","results","setItem","stringify","map","character","id"],"mappings":"wLAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,C,2CAEA,GAAMC,CAAAA,GAAG,CAAGC,OAAO,CAAC,KAAD,CAAnB,CACA,GAAMC,CAAAA,WAAW,CAAG,0CAApB,CACA,GAAMC,CAAAA,UAAU,CAAG,kCAAnB,CACA,GAAMC,CAAAA,EAAE,CAAGC,IAAI,CAACC,GAAL,EAAX,CAEA,QAASC,CAAAA,gBAAT,EAA2B,CACvB,cAAmCT,QAAQ,CAAC,EAAD,CAA3C,wCAAOU,SAAP,eAAkBC,aAAlB,eAEA,GAAIC,CAAAA,IAAI,CAAGV,GAAG,WAAII,EAAJ,SAASF,WAAT,SAAuBC,UAAvB,EAAd,CACA,GAAIQ,CAAAA,GAAG,kEAA6DP,EAA7D,oBAA0ED,UAA1E,kBAA6FO,IAA7F,CAAP,CAEAb,SAAS,CAAC,UAAI,CACV,GAAG,CAACe,SAAS,CAACC,MAAd,CAAqB,CACjB,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,IAAsC,IAAzC,CAA8C,CAC1CN,aAAa,CAAC,YAAD,CAAb,CACH,CAFD,IAEO,CACHA,aAAa,CAACO,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAD,CAAb,CACH,CAEJ,CAPD,IAOO,CACHG,KAAK,CAACP,GAAD,CAAL,CAAWQ,IAAX,CAAgB,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EAAnB,EAAiCF,IAAjC,CAAsC,SAAAC,GAAG,CAAE,CACvCX,aAAa,CAACW,GAAG,CAACE,IAAJ,CAASC,OAAV,CAAb,CACAT,YAAY,CAACU,OAAb,CAAqB,WAArB,CAAkCR,IAAI,CAACS,SAAL,CAAeL,GAAG,CAACE,IAAJ,CAASC,OAAxB,CAAlC,EACH,CAHD,EAIH,CACJ,CAdQ,CAcP,EAdO,CAAT,CAgBA,mBACI,YAAK,SAAS,CAAC,iBAAf,UACKf,SAAS,CAACkB,GAAV,CAAc,SAACC,SAAD,qBACX,KAAC,IAAD,EAA2B,SAAS,CAAIA,SAAxC,EAAaA,SAAS,CAACC,EAAvB,CADW,EAAd,CADL,EADJ,CAOH,CAED,cAAerB,CAAAA,gBAAf","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Card from '../Card/Card'\r\n\r\nconst md5 = require('md5')\r\nconst PRIVATE_KEY = '1a79518320092f0adcca9822825517090a22e0fc'\r\nconst PUBLIC_KEY = 'e8e61be1a12aa4da11480c2bb40cbbff'\r\nconst TS = Date.now()\r\n\r\nfunction PersonajesMarvel(){\r\n    const [personaje, setPersonajes] = useState([]);\r\n\r\n    let hash = md5(`${TS}${PRIVATE_KEY}${PUBLIC_KEY}`)\r\n    let URL = `https://gateway.marvel.com:443/v1/public/characters?ts=${TS}&apikey=${PUBLIC_KEY}&hash=${hash}`\r\n\r\n    useEffect(()=>{\r\n        if(!navigator.onLine){\r\n            if(localStorage.getItem(\"personaje\") === null){\r\n                setPersonajes(\"Loading...\")\r\n            } else {\r\n                setPersonajes(JSON.parse(localStorage.getItem(\"personaje\")))\r\n            }\r\n            \r\n        } else {\r\n            fetch(URL).then(res=>res.json()).then(res=>{\r\n                setPersonajes(res.data.results);\r\n                localStorage.setItem(\"personaje\", JSON.stringify(res.data.results))\r\n            })\r\n        }        \r\n    },[]);\r\n\r\n    return(\r\n        <div className=\"container-fluid\">\r\n            {personaje.map((character) => (\r\n                <Card key = {character.id} character = {character} />\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonajesMarvel;"]},"metadata":{},"sourceType":"module"}
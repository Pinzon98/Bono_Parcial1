{"ast":null,"code":"import _slicedToArray from\"C:/Andres/Semestre 2021-2/Desarrollo web/Bono-Parcial-1/marvelapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import Card from'./Card';import md5 from'md5';import{jsx as _jsx}from\"react/jsx-runtime\";var PRIVATE_KEY='1a79518320092f0adcca9822825517090a22e0fc';var PUBLIC_KEY='e8e61be1a12aa4da11480c2bb40cbbff';var TS=Date.now();var hash=md5(\"\".concat(TS).concat(PRIVATE_KEY).concat(PUBLIC_KEY));function PersonajesMarvel(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),characters=_useState2[0],setCharacters=_useState2[1];useEffect(function(){if(!navigator.onLine){if(localStorage.getItem(\"characters\")===null){setCharacters(\"Loading...\");}else{setCharacters(JSON.parse(localStorage.getItem(\"characters\")));}}else{var _URL=\"https://gateway.marvel.com:443/v1/public/characters?ts=\".concat(TS,\"&apikey=\").concat(PUBLIC_KEY,\"&hash=\").concat(hash);fetch(_URL).then(function(res){return res.json();}).then(function(data){localStorage.setItem(\"characters\",JSON.stringify(data.data.results));setCharacters(data.data.results);});}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"row g-3\",children:characters.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col col-lg-3\",children:/*#__PURE__*/_jsx(Card,{id:element.id,image:element.thumbnail.path+'.'+element.thumbnail.extension+URL,name:element.name,description:element.description},element.id)},element.id);})});}export default PersonajesMarvel;","map":{"version":3,"sources":["C:/Andres/Semestre 2021-2/Desarrollo web/Bono-Parcial-1/marvelapp/src/components/personajesMarvel.js"],"names":["useEffect","useState","Card","md5","PRIVATE_KEY","PUBLIC_KEY","TS","Date","now","hash","PersonajesMarvel","characters","setCharacters","navigator","onLine","localStorage","getItem","JSON","parse","URL","fetch","then","res","json","data","setItem","stringify","results","map","element","id","thumbnail","path","extension","name","description"],"mappings":"wLAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,KAAhB,C,2CAEA,GAAMC,CAAAA,WAAW,CAAG,0CAApB,CACA,GAAMC,CAAAA,UAAU,CAAG,kCAAnB,CACA,GAAMC,CAAAA,EAAE,CAAGC,IAAI,CAACC,GAAL,EAAX,CACA,GAAIC,CAAAA,IAAI,CAAGN,GAAG,WAAIG,EAAJ,SAASF,WAAT,SAAuBC,UAAvB,EAAd,CAEA,QAASK,CAAAA,gBAAT,EAA2B,CACvB,cAAkCT,QAAQ,CAAC,EAAD,CAA1C,wCAAKU,UAAL,eAAiBC,aAAjB,eAEAZ,SAAS,CAAC,UAAI,CACV,GAAG,CAACa,SAAS,CAACC,MAAd,CAAqB,CACjB,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,IAAuC,IAA1C,CAA+C,CAC3CJ,aAAa,CAAC,YAAD,CAAb,CACH,CAFD,IAEO,CACHA,aAAa,CAACK,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,CAAD,CAAb,CACH,CAEJ,CAPD,IAOO,CACH,GAAMG,CAAAA,IAAG,kEAA6Db,EAA7D,oBAA0ED,UAA1E,kBAA6FI,IAA7F,CAAT,CACAW,KAAK,CAACD,IAAD,CAAL,CAAWE,IAAX,CAAgB,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EAAnB,EAAiCF,IAAjC,CAAsC,SAAAG,IAAI,CAAE,CACxCT,YAAY,CAACU,OAAb,CAAqB,YAArB,CAAmCR,IAAI,CAACS,SAAL,CAAeF,IAAI,CAACA,IAAL,CAAUG,OAAzB,CAAnC,EACAf,aAAa,CAACY,IAAI,CAACA,IAAL,CAAUG,OAAX,CAAb,CACH,CAHD,EAIH,CACJ,CAfQ,CAeP,EAfO,CAAT,CAiBA,mBACI,YAAK,SAAS,CAAC,SAAf,UACKhB,UAAU,CAACiB,GAAX,CAAgB,SAAAC,OAAO,qBACpB,YAAsB,SAAS,CAAC,cAAhC,uBACI,KAAC,IAAD,EAAuB,EAAE,CAAEA,OAAO,CAACC,EAAnC,CAAuC,KAAK,CAAID,OAAO,CAACE,SAAR,CAAkBC,IAAlB,CAAuB,GAAvB,CAA2BH,OAAO,CAACE,SAAR,CAAkBE,SAA7C,CAAuDd,GAAvG,CAA4G,IAAI,CAAEU,OAAO,CAACK,IAA1H,CAAgI,WAAW,CAAEL,OAAO,CAACM,WAArJ,EAAWN,OAAO,CAACC,EAAnB,CADJ,EAAUD,OAAO,CAACC,EAAlB,CADoB,EAAvB,CADL,EADJ,CASH,CAED,cAAepB,CAAAA,gBAAf","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Card from './Card'\r\nimport md5 from 'md5'\r\n\r\nconst PRIVATE_KEY = '1a79518320092f0adcca9822825517090a22e0fc'\r\nconst PUBLIC_KEY = 'e8e61be1a12aa4da11480c2bb40cbbff'\r\nconst TS = Date.now()\r\nlet hash = md5(`${TS}${PRIVATE_KEY}${PUBLIC_KEY}`)\r\n\r\nfunction PersonajesMarvel(){\r\n    let [characters, setCharacters] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        if(!navigator.onLine){\r\n            if(localStorage.getItem(\"characters\") === null){\r\n                setCharacters(\"Loading...\")\r\n            } else {\r\n                setCharacters(JSON.parse(localStorage.getItem(\"characters\")))\r\n            }\r\n            \r\n        } else {\r\n            const URL = `https://gateway.marvel.com:443/v1/public/characters?ts=${TS}&apikey=${PUBLIC_KEY}&hash=${hash}`\r\n            fetch(URL).then(res=>res.json()).then(data=>{\r\n                localStorage.setItem(\"characters\", JSON.stringify(data.data.results))\r\n                setCharacters(data.data.results);\r\n            })\r\n        }        \r\n    },[]);\r\n\r\n    return(\r\n        <div className=\"row g-3\">\r\n            {characters.map( element => \r\n                <div key={element.id} className=\"col col-lg-3\">\r\n                    <Card key={element.id} id={element.id} image = {element.thumbnail.path+'.'+element.thumbnail.extension+URL} name={element.name} description={element.description}></Card>\r\n                </div>\r\n            )}  \r\n        </div>\r\n    )\r\n}   \r\n\r\nexport default PersonajesMarvel;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"C:/Andres/Semestre 2021-2/Desarrollo web/Bono-Parcial-1/marvelapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import Card from'../Card/Card';import md5 from'md5';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PRIVATE_KEY='1a79518320092f0adcca9822825517090a22e0fc';var PUBLIC_KEY='e8e61be1a12aa4da11480c2bb40cbbff';var TS=Date.now();var hash=md5(\"\".concat(TS).concat(PRIVATE_KEY).concat(PUBLIC_KEY));function PersonajesMarvel(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),personaje=_useState2[0],setPersonajes=_useState2[1];var URL=\"https://gateway.marvel.com:443/v1/public/characters?ts=\".concat(TS,\"&apikey=\").concat(PUBLIC_KEY,\"&hash=\").concat(hash);useEffect(function(){if(!navigator.onLine){if(localStorage.getItem(\"charactersMarvel\")===null){setPersonajes(\"Loading...\");}else{setPersonajes(JSON.parse(localStorage.getItem(\"charactersMarvel\")));}}else{fetch(URL).then(function(res){return res.json();}).then(function(res){setPersonajes(res.data.results);localStorage.setItem(\"charactersMarvel\",JSON.stringify(res.data.results));});}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Characters \"}),personaje&&personaje.map(function(element){return/*#__PURE__*/_jsx(Card,{thumbnail:element.thumbnail.path+'.'+element.thumbnail.extension,name:element.name,description:element.description});})]});}export default PersonajesMarvel;","map":{"version":3,"sources":["C:/Andres/Semestre 2021-2/Desarrollo web/Bono-Parcial-1/marvelapp/src/components/personajesMarvel.js"],"names":["useEffect","useState","Card","md5","PRIVATE_KEY","PUBLIC_KEY","TS","Date","now","hash","PersonajesMarvel","personaje","setPersonajes","URL","navigator","onLine","localStorage","getItem","JSON","parse","fetch","then","res","json","data","results","setItem","stringify","map","element","thumbnail","path","extension","name","description"],"mappings":"wLAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,KAAhB,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,0CAApB,CACA,GAAMC,CAAAA,UAAU,CAAG,kCAAnB,CACA,GAAMC,CAAAA,EAAE,CAAGC,IAAI,CAACC,GAAL,EAAX,CACA,GAAIC,CAAAA,IAAI,CAAGN,GAAG,WAAIG,EAAJ,SAASF,WAAT,SAAuBC,UAAvB,EAAd,CAEA,QAASK,CAAAA,gBAAT,EAA2B,CACvB,cAAiCT,QAAQ,CAAC,EAAD,CAAzC,wCAAKU,SAAL,eAAgBC,aAAhB,eAEA,GAAIC,CAAAA,GAAG,kEAA6DP,EAA7D,oBAA0ED,UAA1E,kBAA6FI,IAA7F,CAAP,CAEAT,SAAS,CAAC,UAAI,CACV,GAAG,CAACc,SAAS,CAACC,MAAd,CAAqB,CACjB,GAAGC,YAAY,CAACC,OAAb,CAAqB,kBAArB,IAA6C,IAAhD,CAAqD,CACjDL,aAAa,CAAC,YAAD,CAAb,CACH,CAFD,IAEO,CACHA,aAAa,CAACM,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAX,CAAD,CAAb,CACH,CAEJ,CAPD,IAOO,CACHG,KAAK,CAACP,GAAD,CAAL,CAAWQ,IAAX,CAAgB,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EAAnB,EAAiCF,IAAjC,CAAsC,SAAAC,GAAG,CAAE,CACvCV,aAAa,CAACU,GAAG,CAACE,IAAJ,CAASC,OAAV,CAAb,CACAT,YAAY,CAACU,OAAb,CAAqB,kBAArB,CAAyCR,IAAI,CAACS,SAAL,CAAeL,GAAG,CAACE,IAAJ,CAASC,OAAxB,CAAzC,EACH,CAHD,EAIH,CACJ,CAdQ,CAcP,EAdO,CAAT,CAgBA,mBACI,aAAK,SAAS,CAAC,WAAf,wBACA,oCADA,CAECd,SAAS,EAAIA,SAAS,CAACiB,GAAV,CAAe,SAACC,OAAD,qBACzB,KAAC,IAAD,EACI,SAAS,CAAIA,OAAO,CAACC,SAAR,CAAkBC,IAAlB,CAAuB,GAAvB,CAA2BF,OAAO,CAACC,SAAR,CAAkBE,SAD9D,CAEI,IAAI,CAAIH,OAAO,CAACI,IAFpB,CAGI,WAAW,CAAIJ,OAAO,CAACK,WAH3B,EADyB,EAAf,CAFd,GADJ,CAaH,CAED,cAAexB,CAAAA,gBAAf","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Card from '../Card/Card'\r\nimport md5 from 'md5'\r\n\r\nconst PRIVATE_KEY = '1a79518320092f0adcca9822825517090a22e0fc'\r\nconst PUBLIC_KEY = 'e8e61be1a12aa4da11480c2bb40cbbff'\r\nconst TS = Date.now()\r\nlet hash = md5(`${TS}${PRIVATE_KEY}${PUBLIC_KEY}`)\r\n\r\nfunction PersonajesMarvel(){\r\n    let [personaje, setPersonajes] = useState([]);\r\n\r\n    let URL = `https://gateway.marvel.com:443/v1/public/characters?ts=${TS}&apikey=${PUBLIC_KEY}&hash=${hash}`\r\n\r\n    useEffect(()=>{\r\n        if(!navigator.onLine){\r\n            if(localStorage.getItem(\"charactersMarvel\") === null){\r\n                setPersonajes(\"Loading...\")\r\n            } else {\r\n                setPersonajes(JSON.parse(localStorage.getItem(\"charactersMarvel\")))\r\n            }\r\n            \r\n        } else {\r\n            fetch(URL).then(res=>res.json()).then(res=>{\r\n                setPersonajes(res.data.results);\r\n                localStorage.setItem(\"charactersMarvel\", JSON.stringify(res.data.results))\r\n            })\r\n        }        \r\n    },[]);\r\n\r\n    return(\r\n        <div className=\"container\" >\r\n        <h1> Characters </h1>\r\n        {personaje && personaje.map( (element) => (\r\n            <Card\r\n                thumbnail = {element.thumbnail.path+'.'+element.thumbnail.extension}\r\n                name = {element.name}\r\n                description = {element.description}\r\n            />\r\n        ))}\r\n\r\n        </div>\r\n    )\r\n}   \r\n\r\nexport default PersonajesMarvel;"]},"metadata":{},"sourceType":"module"}